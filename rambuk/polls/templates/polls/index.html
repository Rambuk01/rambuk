{% extends 'polls/base.html' %}

{% block title %}Polls - Home{% endblock %}

{% block header %}Welcome to Polls{% endblock %}

{% block content %}
    <p>This is the home page content.</p>
    <!-- Add more content specific to this page -->

    {% if latest_question_list %}
        <ul>
        {% for question in latest_question_list %}
            <li><a href="{% url 'polls:detail' question.id %}">{{ question.question_text }} ... {{ question.pub_date }}</a></li>
            <form action="{% url 'polls:vote' question.id %}" method='post'>
                {% csrf_token %}
                <fieldset>
                    <legend><h1>{{ question.question_text }}</h1></legend>
                    {% if error_message %} <p><strong>{{ error_message }}</strong></p> {% endif %}
                    {% for choice in question.choice_set.all %} 
                        <input type="radio" name="choice" id="choice{{ forloop.counter }}" value={{choice.id}}>
                        <label for="choice{{ forloop.counter }}"> {{ choice.choice_text }} </label><br>
                    {% endfor %}
                    <br>
                    <input type="submit" value="Vote">
                </fieldset>
                
            </form><br>
        {% endfor %}
        </ul>
    {% else %}
        <p>No polls are available.</p>
    {% endif %}


    


{% endblock %}

